# Vue组件拍平工具

一个将Vue组件及其依赖内联成单个文件的工具。支持子组件内联，并提供实时预览和对比展示。

## 功能特点

- ✨ **子组件内联**: 将导入的子组件直接内联到主组件中
- 🔄 **实时拍平**: 文件变化时自动重新拍平
- 👀 **对比展示**: 左右对比显示原始组件和拍平后的效果
- 🚀 **一键启动**: 拍平功能已集成到Webpack，无需额外配置

## 快速开始

### 安装依赖

```bash
npm run install-all
```

### 启动开发环境

```bash
npm run dev
```

然后访问 http://localhost:8080 查看效果。

## 项目结构

```
vue-flattener-2/
├── example/              # 测试环境
│   ├── src/
│   │   ├── App.vue      # 主展示组件
│   │   ├── components/  # 测试用的子组件
│   │   └── ...
│   └── webpack.config.js # 集成了拍平插件
├── src/                  # 拍平工具源码
│   ├── parser/          # Vue文件解析器
│   ├── inliner/         # 组件内联器
│   └── index.js         # 主入口
└── README.md
```

## 工作原理

1. **解析**: 使用正则表达式解析Vue文件的template、script、style部分
2. **分析**: 识别导入的子组件
3. **内联**: 将子组件转换为内联格式
4. **生成**: 输出拍平后的单文件组件

## 使用效果

- 左侧展示原始组件（使用import导入子组件）
- 右侧展示拍平后的组件（子组件已内联）
- 底部显示代码结构对比

## 当前限制

- 仅支持简单的ES6导入语法
- 暂不支持工具函数和样式文件内联
- 暂不支持递归内联

## 后续计划

- [ ] 支持工具函数内联
- [ ] 支持样式文件内联
- [ ] 支持更复杂的导入场景
- [ ] 优化scoped样式处理

## License

ISC 