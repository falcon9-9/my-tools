# ğŸš€ Vueç»„ä»¶æ‹å¹³å·¥å…·

å°†åŒ…å«å­ç»„ä»¶ã€å·¥å…·å‡½æ•°ã€æ ·å¼æ–‡ä»¶çš„Vueç»„ä»¶"æ‹å¹³"ä¸ºå•ä¸ªå†…è”çš„Vueæ–‡ä»¶ï¼Œä¿æŒåŸå§‹ç»“æ„ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“¦ **å­ç»„ä»¶å†…è”**: å°†å¼•ç”¨çš„å­ç»„ä»¶å†…è”åˆ°ä¸»ç»„ä»¶ä¸­
- âš™ï¸ **å‡½æ•°å†…è”**: å†…è”JavaScriptå·¥å…·å‡½æ•°å’Œæ–¹æ³•  
- ğŸ¨ **æ ·å¼å†…è”**: å†…è”CSSæ–‡ä»¶å¹¶å¤„ç†ä½œç”¨åŸŸå†²çª
- ğŸ”’ **ä½œç”¨åŸŸéš”ç¦»**: è‡ªåŠ¨æ·»åŠ å‘½åç©ºé—´é¿å…æ ·å¼å†²çª
- ğŸ’¾ **ä¿æŒç»“æ„**: ä¿ç•™åŸå§‹ä»£ç ç»“æ„å’Œæ³¨é‡Š
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œå›é€€æœºåˆ¶

## ğŸ› ï¸ å®‰è£…ä¾èµ–

### ä¸»é¡¹ç›®ä¾èµ–
```bash
cd vue-flattener
npm install
```

### æµ‹è¯•ç¯å¢ƒä¾èµ–
```bash
cd vue-flattener/example
npm install
```

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
```bash
cd vue-flattener/example
npm run serve
```
è®¿é—® http://localhost:8080 æŸ¥çœ‹åŸå§‹ç»„ä»¶æ•ˆæœ

### 2. è¿è¡Œæ‹å¹³å·¥å…·
```bash
cd vue-flattener/example
npm run test-flatten
```

è¿™å°†ä¼šï¼š
- è¯»å– `src/components/MainComponent.vue`
- åˆ†ææ‰€æœ‰ä¾èµ–ï¼ˆå­ç»„ä»¶ã€å·¥å…·å‡½æ•°ã€æ ·å¼æ–‡ä»¶ï¼‰
- ç”Ÿæˆæ‹å¹³åçš„æ–‡ä»¶åˆ° `dist/FlattenedComponent.vue`

### 3. æŸ¥çœ‹ç»“æœ
ç”Ÿæˆçš„æ‹å¹³æ–‡ä»¶åŒ…å«ï¼š
- å†…è”çš„å­ç»„ä»¶æ¨¡æ¿å’Œé€»è¾‘
- å†…è”çš„å·¥å…·å‡½æ•°
- å†…è”çš„æ ·å¼æ–‡ä»¶ï¼ˆå¸¦ä½œç”¨åŸŸéš”ç¦»ï¼‰
- è¯¦ç»†çš„ç”Ÿæˆæ³¨é‡Š

## ğŸ“ é¡¹ç›®ç»“æ„

```
vue-flattener/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js              # ä¸»å…¥å£
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ VueFlattener.js   # æ ¸å¿ƒæ‹å¹³å™¨
â”‚   â”œâ”€â”€ parser/
â”‚   â”‚   â””â”€â”€ VueParser.js      # Vueæ–‡ä»¶è§£æå™¨
â”‚   â”œâ”€â”€ inliner/
â”‚   â”‚   â”œâ”€â”€ ComponentInliner.js # ç»„ä»¶å†…è”å™¨
â”‚   â”‚   â”œâ”€â”€ FunctionInliner.js  # å‡½æ•°å†…è”å™¨
â”‚   â”‚   â””â”€â”€ StyleInliner.js     # æ ·å¼å†…è”å™¨
â”‚   â””â”€â”€ generator/
â”‚       â””â”€â”€ VueGenerator.js     # Vueæ–‡ä»¶ç”Ÿæˆå™¨
â”œâ”€â”€ example/                   # æµ‹è¯•ç¯å¢ƒ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # æµ‹è¯•ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ styles/          # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ dist/                # ç”Ÿæˆæ–‡ä»¶ç›®å½•
â””â”€â”€ README.md
```

## ğŸ”§ API ä½¿ç”¨

### ç¼–ç¨‹å¼API
```javascript
const { flatten } = require('./src/index.js');

// åŸºç¡€ä½¿ç”¨
await flatten('input.vue', 'output.vue');

// è‡ªå®šä¹‰é…ç½®
await flatten('input.vue', 'output.vue', {
  preserveComments: true,        // ä¿ç•™æ³¨é‡Š
  scopeStyles: true,            // æ ·å¼ä½œç”¨åŸŸ
  namespacePrefix: 'inline_',   // å‘½åç©ºé—´å‰ç¼€
  minifyInlined: false          // æ˜¯å¦å‹ç¼©å†…è”ä»£ç 
});
```

### å‘½ä»¤è¡Œä½¿ç”¨
```bash
node src/index.js input.vue output.vue
```

## âš™ï¸ é…ç½®é€‰é¡¹

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `preserveComments` | boolean | `true` | æ˜¯å¦ä¿ç•™æ³¨é‡Š |
| `minifyInlined` | boolean | `false` | æ˜¯å¦å‹ç¼©å†…è”ä»£ç  |
| `scopeStyles` | boolean | `true` | æ˜¯å¦æ·»åŠ æ ·å¼ä½œç”¨åŸŸ |
| `namespacePrefix` | string | `'inline_'` | å‘½åç©ºé—´å‰ç¼€ |
| `excludePatterns` | array | `['*.test.js']` | æ’é™¤æ–‡ä»¶æ¨¡å¼ |
| `maxDepth` | number | `10` | æœ€å¤§é€’å½’æ·±åº¦ |

## ğŸ“‹ å®ç°é˜¶æ®µ

### âœ… ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€Vueæ–‡ä»¶è§£æå’Œç®€å•ç»„ä»¶å†…è”
- Vueå•æ–‡ä»¶ç»„ä»¶è§£æ
- ä¾èµ–å…³ç³»åˆ†æ  
- ç®€å•çš„ç»„ä»¶å†…è”åˆå¹¶

### âœ… ç¬¬äºŒé˜¶æ®µï¼šJavaScriptå·¥å…·å‡½æ•°å†…è”
- ES6 import/exportåˆ†æ
- å‡½æ•°ä¾èµ–æ ‘æ„å»º
- ä»£ç åˆå¹¶å’Œå»é‡

### âœ… ç¬¬ä¸‰é˜¶æ®µï¼šCSSæ ·å¼æ–‡ä»¶å†…è”å’Œä½œç”¨åŸŸå¤„ç†
- CSS @importå¤„ç†
- æ ·å¼ä½œç”¨åŸŸéš”ç¦»
- æ ·å¼ä¼˜å…ˆçº§å¤„ç†

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹

æµ‹è¯•ç¯å¢ƒåŒ…å«ï¼š

**ä¸»ç»„ä»¶**: `MainComponent.vue`
- å¼•å…¥2ä¸ªå­ç»„ä»¶
- ä½¿ç”¨å¤šä¸ªå·¥å…·å‡½æ•°
- å¼•å…¥å¤–éƒ¨æ ·å¼æ–‡ä»¶

**å­ç»„ä»¶**:
- `UserCard.vue` - ç”¨æˆ·å¡ç‰‡ç»„ä»¶
- `CounterButton.vue` - è®¡æ•°å™¨æŒ‰é’®ç»„ä»¶

**å·¥å…·å‡½æ•°**:
- `helpers.js` - é€šç”¨å·¥å…·å‡½æ•°
- `math.js` - æ•°å­¦è®¡ç®—å‡½æ•°

**æ ·å¼æ–‡ä»¶**:
- `components.css` - ç»„ä»¶é€šç”¨æ ·å¼
- `buttons.css` - æŒ‰é’®æ ·å¼

## ğŸ” å·¥ä½œåŸç†

1. **è§£æé˜¶æ®µ**: ä½¿ç”¨ `@vue/compiler-sfc` è§£æVueå•æ–‡ä»¶ç»„ä»¶
2. **ä¾èµ–åˆ†æ**: ä½¿ç”¨ `@babel/parser` åˆ†æJavaScriptä¾èµ–
3. **å†…è”å¤„ç†**: é€’å½’å¤„ç†æ‰€æœ‰ä¾èµ–æ–‡ä»¶
4. **ä½œç”¨åŸŸå¤„ç†**: ä½¿ç”¨ `postcss` å¤„ç†CSSä½œç”¨åŸŸ
5. **ä»£ç ç”Ÿæˆ**: ç”Ÿæˆæœ€ç»ˆçš„æ‹å¹³Vueæ–‡ä»¶

## ğŸ› å·²çŸ¥é™åˆ¶

- æš‚ä¸æ”¯æŒåŠ¨æ€import
- å¤æ‚çš„CSSé¢„å¤„ç†å™¨æ”¯æŒæœ‰é™
- å¾ªç¯ä¾èµ–æ£€æµ‹éœ€è¦å®Œå–„
- ç¬¬ä¸‰æ–¹åº“ä¾èµ–ä¸ä¼šè¢«å†…è”

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ï¿½ï¿½ è®¸å¯è¯

MIT License 