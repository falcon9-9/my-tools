# ğŸ“¦ Package Size Analyzer - åŒ…ä½“ç§¯åˆ†æå·¥å…·

è¿™æ˜¯ä¸€ä¸ªç”¨äºåˆ†æå’Œå¯¹æ¯”ä¸åŒç‰ˆæœ¬ npm åŒ…ä½“ç§¯çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ äº†è§£åŒ…çš„å¤§å°å˜åŒ–è¶‹åŠ¿ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

æ¨èä½¿ç”¨ï¼šNode.js 18.x æˆ– 20.xï¼ˆLTS é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼‰
æœ€ä½ç‰ˆæœ¬ï¼šNode.js 16.0.0
ä¸æ”¯æŒï¼šNode.js 14.x åŠä»¥ä¸‹ç‰ˆæœ¬

### 1. å®‰è£…ä¾èµ–

```bash
cd package-size
npm install
```

### 2. ä½¿ç”¨æ–¹æ³•

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨é¢„è®¾è„šæœ¬ï¼ˆåˆ†æ @game/game-buttonï¼‰

```bash
npm run analyze:game-button
```

è¿™ä¼šè‡ªåŠ¨åˆ†æ @game/game-button çš„ä¸‰ä¸ªç‰ˆæœ¬ï¼š3.20.0ã€3.18.0ã€3.8.7

#### æ–¹æ³•äºŒï¼šè‡ªå®šä¹‰åˆ†æ

```bash
node index.js --package <åŒ…å> --versions <ç‰ˆæœ¬1> <ç‰ˆæœ¬2> <ç‰ˆæœ¬3> --registry <registryåœ°å€>
```

ä¾‹å¦‚ï¼š
```bash
# ä½¿ç”¨æ ‡å‡† npm registry
node index.js --package axios --versions 1.6.0 1.5.0 1.4.0

# ä½¿ç”¨ bilibili çš„ Nexus 3 registry
node index.js --package @game/game-button --versions 3.20.0 3.18.0 3.8.7 --registry https://nexus3.bilibili.co
```

### 3. å‘½ä»¤è¡Œå‚æ•°

- `--package, -p`: è¦åˆ†æçš„åŒ…åï¼ˆå¿…éœ€ï¼‰
- `--versions, -v`: è¦å¯¹æ¯”çš„ç‰ˆæœ¬å·åˆ—è¡¨ï¼ˆå¿…éœ€ï¼‰
- `--registry, -r`: NPM registry åœ°å€ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º https://registry.npmjs.orgï¼‰
- `--help`: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

## ğŸ“Š è¾“å‡ºè¯´æ˜

å·¥å…·ä¼šç”Ÿæˆï¼š

1. **æ§åˆ¶å°è¡¨æ ¼**ï¼šæ˜¾ç¤ºå„ç‰ˆæœ¬çš„å¯¹æ¯”ä¿¡æ¯
   - ç‰ˆæœ¬å·
   - æ–‡ä»¶æ•°é‡
   - åŸå§‹å¤§å°ï¼ˆæœªå‹ç¼©ï¼‰
   - Gzip å¤§å°ï¼ˆå‹ç¼©åï¼‰
   - ç›¸å¯¹äºåŸºå‡†ç‰ˆæœ¬çš„ç™¾åˆ†æ¯”

2. **JSON æŠ¥å‘Š**ï¼šä¿å­˜åœ¨ `reports/` ç›®å½•ä¸‹
   - åŒ…å«è¯¦ç»†çš„åˆ†ææ•°æ®
   - æ—¶é—´æˆ³
   - å¯ç”¨äºè¿›ä¸€æ­¥çš„æ•°æ®åˆ†æ

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- âœ… æ”¯æŒå¤šç‰ˆæœ¬å¯¹æ¯”
- âœ… æ˜¾ç¤ºåŸå§‹å¤§å°å’Œ Gzip å‹ç¼©åå¤§å°
- âœ… è‡ªåŠ¨è®¡ç®—å¤§å°å˜åŒ–å’Œç™¾åˆ†æ¯”
- âœ… æ”¯æŒç§æœ‰ registry
- âœ… ç”Ÿæˆ JSON æ ¼å¼çš„è¯¦ç»†æŠ¥å‘Š
- âœ… å‹å¥½çš„å‘½ä»¤è¡Œç•Œé¢
- âœ… è¿›åº¦æç¤ºå’Œé”™è¯¯å¤„ç†

## ğŸ“ ç¤ºä¾‹è¾“å‡º

```
ğŸ“¦ åŒ…ä½“ç§¯åˆ†æå·¥å…·

åŒ…å: @game/game-button
ç‰ˆæœ¬: 3.20.0, 3.18.0, 3.8.7
Registry: http://registry.npm.bilibili.co

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç‰ˆæœ¬     â”‚ æ–‡ä»¶æ•°  â”‚ åŸå§‹å¤§å°      â”‚ Gzip å¤§å°   â”‚ å¯¹æ¯”åŸºå‡†  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3.20.0  â”‚ 45     â”‚ 256 KB       â”‚ 78 KB       â”‚ åŸºå‡†     â”‚
â”‚ 3.18.0  â”‚ 42     â”‚ 248 KB (-8KB)â”‚ 75 KB (-3KB)â”‚ 96.9%    â”‚
â”‚ 3.8.7   â”‚ 38     â”‚ 225 KB (-31KB)â”‚ 68 KB (-10KB)â”‚ 87.9%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯å®ç°

- ä½¿ç”¨ axios ä¸‹è½½åŒ…æ–‡ä»¶
- ä½¿ç”¨ tar è§£å‹åˆ†æ
- ä½¿ç”¨ gzip-size è®¡ç®—å‹ç¼©å¤§å°
- ä½¿ç”¨ chalk ç¾åŒ–è¾“å‡º
- ä½¿ç”¨ cli-table3 ç”Ÿæˆè¡¨æ ¼
- ä½¿ç”¨ ora æ˜¾ç¤ºè¿›åº¦

## ğŸ“„ è®¸å¯è¯

MIT 